import{r as d,b7 as e,b8 as T,b9 as U,ba as $,bb as Q,bc as J,bd as W,be as K,bf as V,bg as Y,bh as H,bi as Z}from"./MiaoRun-5516aaf1.js";import{S as X,A as N,C as F,a as G,W as L,R as O,b as y,c as M,P as ee,T as _,d as te,m as k,e as P,f as C,g as se,h as E,i as re,B as D,j as z,F as v,I as R,L as q}from"./antd-ab92a800.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const ne=()=>{const[o,c]=d.useState([]),[i,l]=d.useState([]),[r,s]=d.useState(1),[f,x]=d.useState(!0),j=["netdun","jsd","npm","cdnjs"];d.useEffect(()=>{j.forEach(async m=>{await b(m)})},[]);const b=async m=>{fetch(`https://hub-back.onmicrosoft.cn/cdn.onmicrosoft?domain=${m}`).then(p=>p.json()).then(p=>{let w=[],n=[];for(let u=0;u<p.date.length;u++)w.push({typ:`${m}-traffic`,date:p.date[u],traffic_data:p.traffic_data[u]}),n.push({typ:`${m}-request`,date:p.date[u],request_data:p.request_data[u]});c(u=>u.concat(w)),l(u=>u.concat(n)),s(u=>u+1),x(!1)}).catch(p=>{console.log("fetch data failed",p)})},h={tooltip:{showMarkers:!1,formatter:m=>({name:m.typ,value:m.typ.includes("traffic")?`${m.traffic_data} MB`:`${m.request_data} 次`})},data:[o,i],padding:"auto",xField:"date",yField:["traffic_data","request_data"],xAxis:{label:{formatter:m=>m.slice(0,10)},tickCount:8},geometryOptions:[{isStack:!0,geometry:"column",seriesField:"typ",columnStyle:{fillOpacity:.8}},{geometry:"line",seriesField:"typ",lineStyle:{lineWidth:1,lineDash:[1,1]},smooth:!0}]};return d.useMemo(()=>e.jsx(e.Fragment,{children:e.jsxs(X,{direction:"vertical",size:"middle",style:{display:"flex"},children:[e.jsx(N,{message:"截止2024年4月21日, 得到 图灵SCDN https://scdn.qqvip.com 赞助, 项目国内域名全部切至该服务 .",showIcon:!0}),e.jsx(N,{message:"截止2024年4月2日, 迫于学业与生活压力, 该项目所有域名停止运行维护(全线切入CloudFlare), 该页面仅做留念处理 .",type:"error",showIcon:!0}),e.jsx(F,{title:"CDN Traffic & Request Chart",extra:e.jsx("a",{href:"https://status.onmicrosoft.cn/",target:"_blank",children:"Status Pages"}),children:e.jsx(G,{className:"mainChart",spinning:f,indicator:e.jsx(T,{style:{fontSize:24},spin:!0}),tip:"Loading",children:e.jsx(L,{className:"mainChart",content:"MiaoRun Free CDN",children:e.jsx(U,{...h})})})})]})}),[r,f])},ae=()=>{const[o,c]=d.useState({traffic:"-",request:"-",runtime:"-"});d.useEffect(()=>{i()},[]);const i=async()=>{const s=await(await fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft?total=1")).json();c({traffic:s.traffic,request:(s.request/1e6).toFixed(2),runtime:s.runtime})},l=r=>{let s=Number(r),f=Math.floor(s/2592e3),x=Math.floor((s-f*2592e3)/86400);return`${f} M ${x} D`};return e.jsx(F,{title:"Analytics",children:e.jsxs(O,{gutter:[16,16],children:[e.jsx(y,{lg:24,md:8,children:e.jsx(M,{title:"Total Traffic",value:o.traffic,suffix:"GB",prefix:e.jsx($,{})})}),e.jsx(y,{lg:24,md:8,children:e.jsx(M,{title:"Total Request",value:o.request,suffix:"M",prefix:e.jsx(Q,{})})}),e.jsx(y,{lg:24,md:8,children:e.jsx(M,{title:"Runtime",value:l(o.runtime),prefix:e.jsx(J,{})})})]})})},oe=()=>{const[o,c]=d.useState({jsd:0,npm:0,cdnjs:0}),i=["npm","jsd","cdnjs"];d.useEffect(()=>{i.forEach(async r=>{await l(r)})},[]);const l=async r=>{let x=((await(await fetch(`https://hub-back.onmicrosoft.cn/cdn.onmicrosoft?single=${r}`)).json()).total_byte/1024/1024).toFixed(2);c(j=>({...j,[r]:x}))};return e.jsx(F,{title:"Usage",children:e.jsxs(O,{gutter:[0,13],children:[e.jsx(A,{domain:"jsd.onmicrosoft.cn",used:o.jsd,demo:"https://jsd.onmicrosoft.cn/gh/lifthrasiir/qr.js@master/qr.js",help:"Services Terms of Use 请在本页面底部的评论区第一条查看"}),e.jsx(A,{domain:"npm.onmicrosoft.cn",used:o.npm,demo:"https://npm.onmicrosoft.cn/react@16.7.0/umd/react.production.min.js",help:"为了保证使用效率，请在使用本域名时使用准确的版本号。反之将会触发回源并返回302响应，不会使用缓存"}),e.jsx(A,{domain:"cdnjs.onmicrosoft.cn",used:o.cdnjs,demo:"https://cdnjs.onmicrosoft.cn/ajax/libs/vue/3.2.45/vue.global.min.js",help:"Services Terms of Use 请在本页面底部的评论区第一条查看"})]})})},A=({domain:o,used:c,help:i,demo:l})=>{const r=s=>Number((s/64/1024*100).toFixed(2));return e.jsxs(e.Fragment,{children:[e.jsx(y,{span:24,children:e.jsx(ee,{color:"white",placement:"topLeft",title:`Details of ${o}`,content:e.jsxs("div",{children:[e.jsxs(_,{children:["Usage: ",(c/1024).toFixed(2)," / 64 GB",e.jsx("br",{}),"Demo: ",e.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:l})]}),e.jsxs(_,{style:{marginTop:10,fontSize:12,color:"gray"},children:["Attention: ",i]})]}),children:e.jsx(_.Link,{target:"_blank",href:`https://${o}/@info`,children:o})})}),e.jsx(y,{span:24,children:e.jsx(te,{format:s=>`${s}%`,percent:r(c)})})]})},ie=()=>{const[o,c]=d.useState(!0),[i,l]=d.useState([]);d.useEffect(()=>{r()},[]);const r=async()=>{fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/public/abuse").then(f=>f.json()).then(f=>{l(f),c(!1)}).catch(f=>{console.log("fetch blacklist failed",f),k.error("blacklist fetch failed")})},s=[{title:"序号",dataIndex:"id",key:"id",fixed:!0,width:"4rem",align:"center"},{title:"昵称",dataIndex:"nickname",key:"nickname",fixed:!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),width:"10rem"},{title:"Github",dataIndex:"github",key:"github",width:"16rem"},{title:"博客地址",dataIndex:"blog",key:"blog",width:"14rem"},{title:"滥用仓库",dataIndex:"repo",key:"repo",width:"14rem"},{title:"封禁内容",dataIndex:"forbidden_content",key:"forbidden_content",width:"14rem",render:f=>e.jsx(e.Fragment,{children:f.split(",").map((x,j)=>e.jsx(P,{color:"red",children:x},j))})},{title:"说明",dataIndex:"reason",key:"reason",width:"20rem"},{title:"添加日期",dataIndex:"create_time",key:"create_time",width:"11rem"}];return e.jsx(e.Fragment,{children:e.jsx(F,{title:"Black list",children:e.jsx(L,{content:"MiaoRun Free CDN",children:e.jsx(C,{loading:o,columns:s,dataSource:i,bordered:!1,rowKey:"id",pagination:{defaultPageSize:5,hideOnSinglePage:!0,size:"small"},scroll:{x:1e3}})})})})},ce=()=>{const[o,c]=d.useState("jsd"),i=[{key:"jsd",tab:"jsd.onmicrosoft.cn"},{key:"npm",tab:"npm.onmicrosoft.cn"},{key:"cdnjs",tab:"cdnjs.onmicrosoft.cn"},{key:"font",tab:"font.onmicrosoft.cn（夏柔公益）"}],l=(r,s)=>{r.preventDefault(),console.log(s)};return e.jsx(F,{title:"Abuse",bordered:!1,tabList:i,activeTabKey:o,tabBarExtraContent:e.jsx(se,{affix:!1,onClick:l,items:[{key:"comment_area",href:"#comment_area",title:navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?"TOS":"Services Terms of Use"}],offsetTop:20,children:"Services Terms of Use "}),onTabChange:r=>c(r),children:e.jsx(le,{domain:o})})},le=({domain:o})=>{const[c,i]=d.useState(!0),[l,r]=d.useState([]),[s,f]=d.useState([]),[x,j]=d.useState({}),[b,h]=d.useState({current:1,pageSize:10});d.useEffect(()=>{p(),w()},[o]),d.useEffect(()=>m(),[b,l]);const m=()=>{if(l.length>0){let t=b.current||1,a=b.pageSize||10;l.slice((t-1)*a,t*a).forEach(async I=>{await n(I.item)})}},p=async()=>{i(!0),fetch(`https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/top?domain=${o}`).then(t=>t.json()).then(t=>{r(t.data.list),i(!1)}).catch(t=>{console.log("fetch abuse_table failed",t),k.error("top100 fetch failed")})},w=async()=>{fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/public/links").then(t=>t.json()).then(t=>{f(t)}).catch(t=>{console.log("fetch abuse_table failed",t),k.error("status fetch failed")})},n=async t=>{x[t]===void 0&&fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/public/like?url="+t).then(a=>a.json()).then(a=>{a.num===null||a.num===void 0||j(g=>({...g,[`${t}`]:a.num}))}).catch(a=>{console.log("fetch abuse_table failed",a),k.error("like fetch failed")})},u=async t=>{let a=new FormData;a.append("url",t),fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/public/abuse",{method:"post",body:a}).then(g=>g.json()).then(g=>{k.info("发起 Abuse 成功,当前队列还有"+g.num+"个待审核"),w()}).catch(g=>{console.log("fetch abuse_table failed",g),k.error("abuse_table fetch failed")})},S=async t=>{let a=new FormData;a.append("url",t),fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/public/like",{method:"post",body:a}).then(g=>g.json()).then(g=>{g.status=="error"&&k.error(g.message+":"+g.ip),j(I=>({...I,[`${t}`]:g.num}))}).catch(g=>{console.log("fetch abuse_table failed",g),k.error("abuse_table fetch failed")})},B=[{title:"Rank",dataIndex:"rank",key:"rank",fixed:!0,width:"2rem",align:"center"},{title:"Link",dataIndex:"item",key:"item",width:"20rem",ellipsis:{showTitle:!1},render:t=>e.jsx(E,{placement:"topLeft",title:e.jsxs("span",{children:[" ",t]}),overlayStyle:{whiteSpace:"normal",maxWidth:"100%"},children:t})},{title:"Value",dataIndex:"value",key:"value",width:"4rem",render:t=>t==0?"0 B":parseFloat((t/Math.pow(1024,Math.floor(Math.log(t)/Math.log(1024)))).toFixed(2))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][Math.floor(Math.log(t)/Math.log(1024))]},{title:"tags",dataIndex:"item",key:"tags",width:"2rem",align:"center",render:t=>e.jsxs(e.Fragment,{children:[s.map((a,g)=>{if(a.url===t)return e.jsx(P,{color:a.status==="REJECT"?"red":a.status==="PASSED"?"green":a.status==="PENDING_REVIEW"?"default":a.status==="TRANSFER"?"cyan":a.status==="OFFICIAL"?"purple":"blue",children:a.status==="REJECT"?"滥用":a.status==="PASSED"?"通过":a.status==="PENDING_REVIEW"?"待审核":a.status==="TRANSFER"?"转发":a.status==="OFFICIAL"?"官网":"正常"},g)}),s.find(a=>a.url===t)===void 0?e.jsx(P,{color:"blue",children:" 正常 "}):null]})},{title:"Operations",dataIndex:"item",key:"operations",width:"7rem",align:"center",render:t=>e.jsxs(e.Fragment,{children:[e.jsx(re,{title:"Abuse Confirm",description:"确定要对此链接发起 Abuse 吗?",onConfirm:()=>u(t),disabled:!(s.find(a=>a.url===t&&a.status==="NORMAL")||s.find(a=>a.url===t)===void 0),okText:"Yes",cancelText:"No",children:e.jsx(D,{type:"text",disabled:!(s.find(a=>a.url===t&&a.status==="NORMAL")||s.find(a=>a.url===t)===void 0),children:"Abuse"})}),e.jsx(D,{type:"link",onClick:()=>S(t),children:e.jsxs(e.Fragment,{children:[s.find(a=>a.url===t&&a.status==="REJECT")!==void 0?"Hate":"Like",x[`${t}`]===void 0?e.jsxs(e.Fragment,{children:[" ",e.jsx(T,{})]}):`(${x[t]?x[t]:"0"})`]})})]})}];return d.useMemo(()=>e.jsx(G,{spinning:c,indicator:e.jsx(T,{style:{fontSize:24},spin:!0}),tip:"Loading",children:e.jsx(L,{content:"MiaoRun Free CDN",children:e.jsx(C,{columns:B,dataSource:l,bordered:!1,size:"small",rowKey:"rank",pagination:{defaultPageSize:b.pageSize,hideOnSinglePage:!0,size:"small"},onChange:(t,a,g,I)=>h(t),scroll:{x:1e3}})})}),[c,x,o,s])},de=()=>{const{Paragraph:o,Link:c,Text:i}=_;return e.jsx(e.Fragment,{children:e.jsxs(F,{title:"Purpose & Introduction",children:[e.jsxs(o,{children:["在开发者日常的开发和使用中，比如写某些简单的 Demo, 或者开发一些小工具,小玩意的时候，总会使用到某些前端的静态库，当然 ",e.jsx(i,{code:!0,children:"UNPKG"})," ",e.jsx(i,{code:!0,children:"jsDelivr"})," 这样的网站就是为此而生的"]}),e.jsx(o,{children:"但是我们是一群中国的开发者，为此，国外服务商提供的种种服务让我们的网站体验一次次的降级，于是更多的静态资源被放在源站上，但是这仍然解决不了静态资源变慢的问题"}),e.jsxs(o,{children:["于是，本项目出现了，由私人搭建的备案域名来使用 ",e.jsx(i,{code:!0,children:"Dogecloud CDN"}),"，为开发者提供一个高速简单，开箱即用的公益CDN，本项目的宗旨是: ",e.jsx(i,{mark:!0,children:"限制更少，更简单，只为开发"})," ",e.jsx(i,{italic:!0,children:"Just for Developers"})]}),e.jsxs(o,{children:["既然做了，那么就要做好，当前阶段每日的流量阈值为单个域名 ",e.jsx(i,{code:!0,children:"64GB/24h"})," 更多详情可在上方的仪表盘中看到"]}),e.jsx(o,{children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(c,{target:"_blank",href:"https://jsd.onmicrosoft.cn/@info",children:"https://jsd.onmicrosoft.cn"})," (回源 jsDelivr)"]}),e.jsxs("li",{children:[e.jsx(c,{target:"_blank",href:"https://npm.onmicrosoft.cn/@info",children:"https://npm.onmicrosoft.cn"})," (回源 UNPKG)"]}),e.jsxs("li",{children:[e.jsx(c,{target:"_blank",href:"https://cdnjs.onmicrosoft.cn/@info",children:" https://cdnjs.onmicrosoft.cn"})," (回源 cdnjs)"]})]})}),e.jsxs(o,{children:["新增 ",e.jsx(c,{target:"_blank",href:"https://font.onmicrosoft.cn/@info",children:"公共字体"})," 加速服务： ",e.jsx(i,{code:!0,children:"font.onmicrosoft.cn"})," 由 ",e.jsx(c,{target:"_blank",href:"https://www.aa1.cn/",children:" 夏柔公益 "})," 联合运营！（接收上述主域名的字体文件转发）"]}),e.jsxs(o,{children:["新增 ",e.jsx(c,{target:"_blank",href:"https://jsd.onmicrosoft.cn/avatar/e8e49ff904f51fa196a33959bf82b418",children:"Gravatar"})," 加速服务： ",e.jsx(i,{code:!0,children:"jsd.onmicrosoft.cn/avatar"})," 部分失败请求回源 ",e.jsx(i,{code:!0,children:"cravatar.cn"})]}),e.jsxs(o,{children:["新增 ",e.jsx(c,{target:"_blank",href:"https://raw.cmds.run/ChenYFan/ClientWorker/gh-pages/cw.js",children:"Source Code"})," 加速服务： ",e.jsx(i,{code:!0,children:"cdn.cmds.run"})," 由 ",e.jsx(c,{target:"_blank",href:"https://www.chuqiyun.com/",children:" 初七云 "})," 联合运营！（提供 全球加速旗舰版 资源包 ）"]}),e.jsxs(o,{children:["✨ ",e.jsx(c,{target:"_blank",href:"https://cdn.cmds.run",children:"cdn.cmds.run"})," 用于加速 ",e.jsx(i,{code:!0,children:"GitHub (Gist), Bitbucket, GitLab"})," RAW 并提供正确的 ",e.jsx(i,{code:!0,children:"Content-Type"})]}),e.jsxs(o,{children:["我们期望您能够自觉遵守我们的使用限制，为了确保项目的长久发展， ",e.jsx(i,{delete:!0,children:"请不要滥用本服务"})]}),e.jsxs(o,{children:["本项目采用",e.jsx(i,{code:!0,children:"vercel"}),"中转回源，防止部分地区回源失败，感谢",e.jsx(i,{code:!0,children:"vercel"}),e.jsx(i,{italic:!0,children:"We love vercel"})]}),e.jsxs(o,{children:["同时感谢 ",e.jsx(c,{target:"_blank",href:"https://unpkg.com",children:"unpkg"})," 、 ",e.jsx(c,{target:"_blank",href:"https://www.jsdelivr.com",children:"jsdelivr"})," 和 ",e.jsx(c,{target:"_blank",href:"https://cdnjs.com",children:"cdnjs"})," 等公益项目"]}),e.jsxs(o,{underline:!0,children:["使用前您应当在页面底部",e.jsx(i,{strong:!0,children:"阅读并同意"}),"我们的服务条款及使用限制."]})]})})},he=()=>{const[o,c]=d.useState([]),[i,l]=d.useState(!0),[r,s]=d.useState({}),[f,x]=d.useState({});d.useEffect(()=>{j()},[]);const j=async()=>{await fetch("https://hub-back.onmicrosoft.cn/sponsor_info").then(h=>h.json()).then(h=>{h.forEach(m=>{r[m.user_id]=m.name,f[m.user_id]=m.avatar}),s(r),x(f)}).catch(h=>{console.log("fetch data failed",h),k.error("sponsor info fetch failed")}),fetch("https://hub-back.onmicrosoft.cn/sponsor").then(h=>h.json()).then(h=>{h=h.sort((m,p)=>m.out_trade_no>p.out_trade_no?-1:1),c(h),l(!1)}).catch(h=>{console.log("fetch data failed",h),k.error("sponsor fetch failed")})},b=[{title:"昵称",dataIndex:"user_id",key:"user_id",render:h=>r[h]?navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?r[h]:e.jsxs(e.Fragment,{children:[" ",e.jsx(z,{size:"small",src:f[h]})," ",r[h]," "]}):e.jsx(T,{})},{title:navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?"金额":"赞助金额",dataIndex:"show_amount",key:"show_amount",render:h=>e.jsx(e.Fragment,{children:"¥ "+h})},{title:"赞助留言",dataIndex:"remark",key:"remark"},navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?null:{title:"时间",dataIndex:"create_time",key:"create_time",render:h=>{const m=h*1e3,p=new Date(m),w=p.getFullYear().toString().padStart(4,"0"),n=(p.getMonth()+1).toString().padStart(2,"0"),u=p.getDate().toString().padStart(2,"0"),S=p.getHours().toString().padStart(2,"0"),B=p.getMinutes().toString().padStart(2,"0"),t=p.getSeconds().toString().padStart(2,"0");return e.jsxs(_.Text,{style:{fontFamily:"monospace"},children:[w,"年",n,"月",u,"日 ",S,":",B,":",t]})}}].filter(Boolean);return e.jsx(e.Fragment,{children:e.jsx(F,{title:"Sponsor",cover:e.jsx(F.Meta,{style:{paddingTop:"2em",width:"95%",margin:"0 auto"},avatar:e.jsx(z,{src:"https://pic1.afdiancdn.com/user/user_upload_osl/2700bb2a48630427bc55021b12646590_w132_h132_s5.jpeg"}),title:"Zkeq",description:e.jsx(_.Text,{color:"textSecondary",style:{fontSize:"0.8em"},children:"正在创作 图欧学习资源库 建站 + 运维，渺软CDN维护者"})}),actions:[e.jsxs(_.Link,{href:"https://afdian.net/a/icodeq",target:"_blank",style:{fontSize:"1em",color:"#f5222d"},children:[e.jsx(W,{}),"  赞助以使项目持续发展"]})],children:e.jsx(C,{bordered:!1,loading:i,dataSource:o,columns:b,rowKey:"out_trade_no",pagination:{defaultPageSize:5,hideOnSinglePage:!0,size:"small"}})})})},ue=()=>{const[o,c]=d.useState([]),[i,l]=d.useState(!0),[r,s]=d.useState(""),[f,x]=d.useState(!0);d.useEffect(()=>{b();let n=localStorage.getItem("pure_token");n!==null&&(w.setFieldsValue({token:n}),h(n))},[]);const j=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),b=async()=>{l(!0),fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/pure").then(n=>n.json()).then(n=>{n=n.sort((u,S)=>u.id>S.id?-1:1),c(n),l(!1)}).catch(n=>{console.log("fetch data failed",n),k.error("sponsor fetch failed")})},h=async n=>{l(!0);let u=new FormData;u.append("sk",n),fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/pure_check",{method:"POST",body:u}).then(S=>S.json()).then(S=>{l(!1),S.status===!0?(k.success(S.msg),localStorage.setItem("pure_token",n),s(""),x(!1)):(k.error(S.msg),s("error"),x(!0))})},m=async()=>{l(!0);let n=new FormData;n.append("sk",w.getFieldValue("token")),n.append("url",w.getFieldValue("url")),fetch("https://hub-back.onmicrosoft.cn/cdn.onmicrosoft/pure",{method:"POST",body:n}).then(u=>u.json()).then(u=>{l(!1),u.status===!0?(k.success(u.msg),b()):k.error(u.msg)})},p=[{title:"ID",dataIndex:"id",key:"id",align:"center",width:"3rem",fixed:!0},{title:"Task Url",dataIndex:"url",key:"url",width:"30rem",ellipsis:{showTitle:!1},render:n=>e.jsx(E,{placement:"topLeft",title:e.jsxs("span",{children:[" ",n]}),overlayStyle:{whiteSpace:"normal",maxWidth:"100%"},children:n})},{title:"创建时间",dataIndex:"create_time",key:"create_time",align:"center",width:"12rem"},{title:"更新时间",dataIndex:"update_time",key:"update_time",align:"center",width:"12rem"},{title:"服务商",dataIndex:"service",key:"service",align:"center",width:"8rem",render(n,u,S){return e.jsx(e.Fragment,{children:e.jsx(E,{placement:"top",title:"Task ID:"+u.task_id,overlayStyle:{whiteSpace:"normal",maxWidth:"100%"},children:e.jsx(P,{color:n==="doge"?"blue":n==="volc"?"purple":n==="netdun"?"orange":"default",children:n==="doge"?"多吉云":n==="volc"?"火山引擎":n==="netdun"?"网盾星球":"其他"})})})}},{title:"状态",dataIndex:"status",key:"status",width:"6rem",align:"center",render(n,u,S){return e.jsx(e.Fragment,{children:e.jsx(P,{color:n==="done"?"green":n==="error"?"red":n==="progress"?"orange":"default",children:n==="done"?"已完成":n==="error"?"失败":n==="progress"?"刷新中":"队列中"})})}}],[w]=v.useForm();return e.jsx(e.Fragment,{children:e.jsx(F,{title:"Pure Cache",cover:e.jsx(F.Meta,{style:{paddingTop:"1.5em",width:"95%",margin:"0 auto"},title:e.jsx(e.Fragment,{children:e.jsxs(v,{name:"pure_cache",layout:"inline",form:w,children:[e.jsx(v.Item,{name:"token",children:e.jsx(R,{prefix:e.jsx(K,{className:"site-form-item-icon"}),placeholder:"Token (Token will be banned if shared a lot)",style:{width:j?"auto":"22rem",margin:j?"10px":"0px"},className:"PureInput",status:r,onBlur:n=>h(n.currentTarget.value)})}),e.jsx(v.Item,{name:"url",children:e.jsx(R,{prefix:e.jsx(V,{}),type:"text",placeholder:"Url (Enter the correct token & Will become available)",style:{width:j?"auto":"34rem",margin:j?"10px":"0px"},className:"PureInput",readOnly:f})}),e.jsx(v.Item,{shouldUpdate:!0,style:{margin:j?"10px":"0px"},children:()=>e.jsxs(e.Fragment,{children:[e.jsx(D,{type:"primary",htmlType:"submit",size:"small",onClick:m,children:"Submit"}),e.jsx(D,{type:"link",size:"small",onClick:b,children:"Fresh List"})]})})]})}),description:e.jsx(_.Text,{color:"textSecondary",style:{fontSize:"0.8em"},children:"Messed up and want your cache to be purged? You can do that with the form above. ｜ Please note, that this feature is available only to our sponsors. Consider becoming one at our Sponsor page!"})}),actions:[e.jsxs(_.Link,{href:"https://afdian.net/a/icodeq",target:"_blank",style:{fontSize:"1em",color:"#f5222d"},children:[e.jsx(W,{})," 赞助任意金额以获取 Token"]})],children:e.jsx(C,{bordered:!1,loading:i,dataSource:o,columns:p,rowKey:"id",size:"middle",pagination:{defaultPageSize:10,hideOnSinglePage:!0,size:"small"},scroll:{x:1e3}})})})},{Title:fe}=_,me=()=>e.jsx(e.Fragment,{children:e.jsxs(O,{justify:"space-around",align:"top",gutter:[16,16],children:[e.jsx(y,{span:24,children:e.jsx(fe,{level:2,style:{textAlign:"center"},mark:!0,children:"渺软科技工作室"})}),e.jsx(y,{span:24,children:e.jsx(ne,{})}),e.jsx(y,{xs:24,lg:18,children:e.jsx(oe,{})}),e.jsx(y,{xs:24,lg:6,children:e.jsx(ae,{})}),e.jsx(y,{xs:24,children:e.jsx(ce,{})}),e.jsx(y,{xs:24,children:e.jsx(ie,{})}),e.jsx(y,{xs:24,children:e.jsx(de,{})}),e.jsx(y,{xs:24,children:e.jsx(ue,{})}),e.jsx(y,{xs:24,children:e.jsx(he,{})}),e.jsx(y,{xs:24,style:{marginTop:"2rem",minHeight:"50rem"},id:"comment_area",children:e.jsx(Y,{host:"https://giscus.onmicrosoft.cn",repo:"Zkeq/Coding",repoId:"MDEwOlJlcG9zaXRvcnk0MDc4MDg2MTE=",category:"General",categoryId:"DIC_kwDOFQ4",mapping:"number",term:"644",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"bottom",theme:"https://cdn.onmicrosoft.cn/css/no_comments_light.css",lang:"zh-CN"})})]})}),pe=({children:o})=>{const{Content:c,Footer:i}=q,{Link:l,Paragraph:r}=_,[s,f]=d.useState({pv:"-",uv:"-"});d.useEffect(()=>{x()},[]);const x=async()=>{let j={"x-bsz-referer":window.location.href};localStorage.getItem("bsz-id")!=null&&(j.Authorization="Bearer "+localStorage.getItem("bsz-id")),fetch("https://bsz.iirose.cn/api",{headers:j,method:"POST"}).then(async b=>{let h=await b.json();if(h.success===!0){f({pv:h.data.site_pv,uv:h.data.site_uv});let m=b.headers.get("Set-Bsz-Identity");m!=null&&localStorage.setItem("bsz-id",m)}}).catch(b=>{console.log("fetch stats failed",b)})};return e.jsxs(q,{children:[e.jsx(c,{style:{padding:"4rem 0 1rem 0",margin:"0 auto"},children:e.jsx("div",{style:{width:"90vw",border:"1px solid #e8e8e8",borderRadius:"1rem",padding:"2rem"},className:"mainContent",children:o})}),e.jsx(i,{style:{textAlign:"center",color:"#999"},children:e.jsx(r,{style:{color:"#999"},children:e.jsxs(e.Fragment,{children:["Made with ❤ by  ",e.jsx(l,{style:{color:"#999"},target:"_blank",href:"https://github.com/zkeq",children:"zkeq"}),".",e.jsx("br",{}),"Reconstructed by ",e.jsx(l,{style:{color:"#999"},target:"_blank",href:"https://github.com/soxft",children:"xcsoft"}),e.jsx("br",{}),"Page view: ",s.pv," | Unique visitor: ",s.uv,e.jsx("br",{}),e.jsx(l,{href:"https://beian.miit.gov.cn",target:"_blank",style:{color:"#999"},children:"豫ICP备2022013147号-1"})," & ",e.jsx(l,{href:"https://icp.gov.moe/?keyword=20231314",target:"_blank",style:{color:"pink"},children:"萌ICP备20231314号"}),e.jsx("br",{}),"Copyright ","渺软<onmicrosoft>"," © ",new Date().getFullYear()," All Rights Reserved"]})})})]})};H.createRoot(document.getElementById("root")).render(e.jsx(Z,{hashPriority:"high",children:e.jsx(pe,{children:e.jsx(me,{})})}));
